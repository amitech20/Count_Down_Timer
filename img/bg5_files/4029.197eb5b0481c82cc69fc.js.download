"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[4029],{66827:(t,e,n)=>{n.d(e,{L:()=>i});var o=n(12164);const i=n(66952).kr9(o.YP)},4029:(t,e,n)=>{n.d(e,{q:()=>J,Z:()=>M});var o={};n.r(o),n.d(o,{load_more_button_label:()=>q});var i={};n.r(i),n.d(i,{load_more_button_label:()=>A});var s=n(85893),l=n(3735),r=n(721),a=n(37703),d=n(12103),c=n(12864),h=n(65702),p=n(67500),u=n(91694),I=n(94597),f=n(6464),g=n(81619),S=n(14426),b=n(12164),O=n(13959),m=n(66510),x=n(34132),j=n(59983),E=n(66952),v=n(90559),R=n(38445),P=n(219),_=n(51588),N=n(89189);const q=()=>"Load more photos",A=()=>"Carga mÃ¡s fotos",{getTranslations:k,useTranslations:w,withTranslations:C}=(0,N.U)({EnUs:o,EsEs:i});var T=n(66827);const Z="gDCZZ",B="HxaG2",U="ATnvl",D="dycl5 hNER6 jJsTo qBwND",F="PwSsU O84oE",H="rx4AP";function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const J=()=>(0,s.jsx)(E.tJQ,{className:B,children:(0,s.jsx)(E.tJQ,{className:U,children:I.w6H(0,17).map((t=>(0,s.jsx)(E.tJQ,{className:D,children:(0,s.jsx)(E.tJQ,{className:F})},t)))})}),L=(0,m.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:g.H((()=>(0,s.jsx)(R.Z,{type:"photos"}))),getPlaceholderEl:g.H((()=>(0,s.jsx)(J,{})))}),Q=O.Ue();class $ extends E.wA2{constructor(){super(...arguments),y(this,"getInfiniteScrollSetting",(t=>{let{shouldRequireInfiniteScrollOptIn:e}=t;return e?Q.mk.OptInRequired({optedIn:!1}):Q.mk.Enabled()})),y(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),y(this,"toggleInfiniteScrollOptIn",(()=>{const{infiniteScrollSetting:t}=this.state;Q.match({OptInRequired:t=>{let{optedIn:e}=t;const n=Q.mk.OptInRequired({optedIn:(0,f.U_)(e)});this.setState({infiniteScrollSetting:n})},[O._]:l.Q1})(t)})),y(this,"fetchDataAndBuildActions",(0,r.Z)((t=>(0,l.ls)(t,S.UI((0,l.ls)(u.Yq,c.E0,(t=>{let{entities:e,result:n}=t;return[(0,d.VA)(e),d.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoIds:n})]}))))))),y(this,"createPhotoFeedIdContextValue",(0,r.Z)((t=>b.G(t))))}UNSAFE_componentWillReceiveProps(t){if(t.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){const e=this.getInfiniteScrollSetting(t);this.setState({infiniteScrollSetting:e})}}render(){const{photoFeedOption:t,photosOption:e,children:n,getNoContentEl:o,getPlaceholderEl:i,renderBeneathLoadMoreButton:l,feedId:r,fetchPhotos:a,notifier$:d,intersectionObserverRoot:c,intersectionObserverRootMarginBottom:h,t:p}=this.props,{infiniteScrollSetting:u}=this.state,I=!1===Q.match({OptInRequired:t=>{let{optedIn:e}=t;return e},Enabled:()=>!0})(u);return(0,s.jsx)(T.L.Provider,{value:this.createPhotoFeedIdContextValue(r),children:(0,s.jsx)(P.f,{renderItems:n,feedItemsOption:e,feedStateOption:t,getScrollFooterEl:()=>(0,s.jsx)("div",{className:H,children:Q.match({OptInRequired:t=>{let{optedIn:e}=t;return e?(0,s.jsx)(_.Z,{}):(0,s.jsxs)(E.HYg,{children:[(0,s.jsx)("div",{className:Z,children:(0,s.jsx)(v.Z,{tag:"button",buttonType:j.L$.Outline,onClick:this.toggleInfiniteScrollOptIn,type:"button",children:p.load_more_button_label()})}),l?.()]})},Enabled:()=>(0,s.jsx)(_.Z,{})})(u)}),getNoContentEl:o,getPlaceholderEl:i,shouldDisableInfiniteScroll:I,fetchDataAndBuildActions:this.fetchDataAndBuildActions(a),notifier$:d,intersectionObserverRoot:c,intersectionObserverRootMarginBottom:h},r)})}}const G=(0,h.O)()((()=>{const t=(0,x.XT)(),e=(0,x.u0)();return(n,o)=>({photoFeedOption:t(n,o.feedId),photosOption:e(n,o.feedId)})})),M=(0,l.zG)($,(0,a.$j)(G),C,(t=>(0,p.b9)(t,L)))}}]);
//# sourceMappingURL=4029.197eb5b0481c82cc69fc.js.map